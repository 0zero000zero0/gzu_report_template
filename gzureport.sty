%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%GUZ课程论文模板
%%作者: dw zhang
%%License：Creative Commons CC BY 4.0


%%最后更改于2024/11/19
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%在浙江大学报告的模板上修改而来
%%原作者: Percy
%%Github: https://github.com/haochengxia/zjureport
%%Overleaf: https://www.overleaf.com/latex/templates/ZJUke-cheng-lun-wen-mo-ban/bcwvxncqffkw
\ProvidesPackage{gzureport}

% 字符编码和语言设置
\RequirePackage[utf8]{inputenc} % 设置输入文件编码为UTF-8
\RequirePackage{fontspec} % 支持字体设置

% 数学公式和符号
\RequirePackage{amsmath,amssymb,amsbsy,amsopn,amstext,amsthm,amsxtra} % 提供数学公式和符号的增强功能
\RequirePackage{mathtools} % 增强 amsmath 包的功能，提供更多数学功能
\RequirePackage{bm} % 支持粗体数学符号

% 表格和图形
\RequirePackage{array} % 提供表格和数组环境的增强功能
\RequirePackage{booktabs} % 提供更专业的表格格式（例如，\toprule，\midrule，\bottomrule等）
\RequirePackage{longtable} % 允许跨页的长表格
\RequirePackage{tabularx} % 自动设置表格列宽
\RequirePackage{graphicx} % 用于插入和处理图形文件（如png, jpg, pdf等）
% \RequirePackage{tikz} % 强大的绘图工具，能够绘制矢量图形
% \RequirePackage{pgfplots} % 基于tikz，用于绘制高质量的二维和三维图表
\RequirePackage{float} % 控制浮动体位置
\RequirePackage{subcaption} % 提供子图标注的功能，替代旧版subfigure

\RequirePackage{multirow} % 用于在表格中创建跨行单元格

% 字体和排版
\RequirePackage{microtype} % 改进排版质量，优化字距和字符间距
\RequirePackage{lmodern} % 使用现代的拉丁字体，提升排版效果
\RequirePackage[raggedright]{titlesec}
\RequirePackage{xcolor} % 支持颜色的设置，包括文字和表格颜色

% 引用和参考文献
\RequirePackage[unicode=true,colorlinks=true,urlcolor=blue,linkcolor=blue,citecolor=blue,bookmarksnumbered=true]{hyperref} % 为文档提供超链接功能
\RequirePackage{cleveref} % 增强引用功能，自动管理交叉引用
\RequirePackage{cite} % 简化文献引用并避免重复引用
\RequirePackage{nameref} % 支持命名引用

% 页面布局和样式
\RequirePackage{fancyhdr} % 自定义页眉和页脚
\RequirePackage{multicol} % 用于创建多列布局
\RequirePackage{setspace} % 设置行间距

% 算法和伪代码
\RequirePackage{algorithm} % 提供算法的环境
\RequirePackage{algorithmic} % 提供详细的算法步骤定义

% 代码高亮和格式化
\RequirePackage{listings} % 用于代码高亮和格式化，支持多种编程语言
\RequirePackage{tcolorbox} % 创建带颜色框的内容

% 附录和文档结构
\RequirePackage{appendix} % 添加附录部分
\RequirePackage{subfiles} % 支持将文档拆分为多个子文件，方便组织和管理

% 表格和列表
\RequirePackage{enumerate} % 提供列表的高级功能
\RequirePackage{enumitem} % 自定义项目符号和编号列表

% 其他功能
\RequirePackage{makeidx} % 创建索引
\RequirePackage{latexsym} % 提供额外符号
\RequirePackage{todo} % 插入任务列表，方便文档编写过程中添加注释
\RequirePackage{fontawesome} % 使用 FontAwesome 字体图标


\lstset{
    language=Python, % 设置语言
    basicstyle=\ttfamily\small, % 基本样式
    keywordstyle=\color{blue}, % 关键字样式
    commentstyle=\color{gray}, % 注释样式
    stringstyle=\color{red}, % 字符串样式
    numbers=none, % 行号位置
    numberstyle=\tiny\color{gray}, % 行号样式
    stepnumber=1, % 行号步长
    numbersep=5pt, % 行号与代码的距离
    frame=single, % 代码框架
    breaklines=true, % 自动换行
    captionpos=b, % 标题位置
    tabsize=4, % 制表符宽度
    showspaces=false, % 显示空格
    showstringspaces=false, % 显示字符串中的空格
    xleftmargin=1em, % 左边距
    xrightmargin=1em % 右边距
}


%% 更改摘要二字的样式
\renewcommand{\abstractname}{\textbf{\large {摘\quad 要}}}
\renewcommand{\contentsname}{\centering\textbf{\large {目\quad 录}}}

%可固定下划线长度
\makeatletter
\newcommand\dlmu[2][4cm]{\hskip1pt\underline{\hb@xt@ #1{\hss#2\hss}}\hskip3pt}
\makeatother

%更改主题
% \hypersetup{
%     colorlinks=true,
%     linkcolor=blue,
%     filecolor=blue,
%     urlcolor=Magenta,
%     citecolor=orange,
% }

% 自定义 cleveref 标签名称
\crefname{equation}{公式}{公式}
\Crefname{equation}{公式}{公式}
\crefname{footnote}{脚注}{脚注}
\Crefname{footnote}{脚注}{脚注}
\crefname{item}{项}{项}
\Crefname{item}{项}{项}
\crefname{figure}{图}{图}
\Crefname{figure}{图}{图}
\crefname{table}{表}{表}
\Crefname{table}{表}{表}
\crefname{part}{篇}{篇}
\Crefname{part}{篇}{篇}
\crefname{appendix}{附录}{附录}
\Crefname{appendix}{附录}{附录}
\crefname{chapter}{章}{章}
\Crefname{chapter}{章}{章}
\crefname{section}{节}{节}
\Crefname{section}{节}{节}
\crefname{subsection}{小节}{小节}
\Crefname{subsection}{小节}{小节}
\crefname{subsubsection}{子小节}{子小节}
\Crefname{subsubsection}{子小节}{子小节}
\crefname{paragraph}{段落}{段落}
\Crefname{paragraph}{段落}{段落}
\crefname{subparagraph}{子段落}{子段落}
\Crefname{subparagraph}{子段落}{子段落}
\crefname{FancyVerbLine}{行}{行}
\Crefname{FancyVerbLine}{行}{行}
\crefname{theorem}{定理}{定理}
\Crefname{theorem}{定理}{定理}
% 创建新的定理环境
\newtheorem{Theorem}{定理}[section]
\newtheorem{Lemma}[Theorem]{引理}
\newtheorem{Corollary}[Theorem]{推论}
\newtheorem{Proposition}[Theorem]{命题}
\newtheorem{Definition}[Theorem]{定义}
\newtheorem{Example}[Theorem]{例}


%%参考文献设置
\newcommand{\reference}{
    \nocite{*}   %打开此选项会列出bib里面的所有参考文献
    \bibliographystyle{acm} %规定了参考文献的格式, acm, ieeetr,
    \begin{center}%居中
        \bibliography{reference} %调出LaTeX生成参考文献列表
    \end{center}
}

%%文本框设置
\newcommand{\tbox}[1]{
    \begin{center}
        \begin{tcolorbox}[colback=gray!10,%gray background
                colframe=black,% black frame colour
                width=16cm,% Use 16cm total width,
                arc=1mm, auto outer arc,
                boxrule=0.5pt,
            ]
            {#1}
        \end{tcolorbox}
    \end{center}
}

%%页眉设置
\pagestyle{fancy}
\fancyhead[L]{\fangsong 页眉左}%%留空则不显示
\fancyhead[C]{\fangsong 页眉中}%%留空则不显示
\fancyhead[R]{\fangsong 页眉右}%%留空则不显示

%封面页设置
{
    \title{ \vspace{2cm} \heiti \Huge \textbf{{主标题}} \par
        \vspace{1cm}
        \heiti \Large {\underline{副标题}}
        \vspace{3cm} }%标题
    \author{
        \vspace{0.5cm}
        \kaishu\Large 姓名\ \dlmu[9cm]{} \qquad \\ %姓名
        \vspace{0.5cm}
        \kaishu\Large  学号\ \dlmu[9cm]{} \qquad  \\ %学号
        \vspace{0.5cm}
        \kaishu\Large  教师\ \dlmu[9cm]{} \qquad  \\ %教师
        \vspace{0.5cm}
        \kaishu\Large   院所\ \dlmu[9cm]{} %院所
    }

    \date{\today} % 默认为今天的日期，可以注释掉不显示日期
}

%%在这里可更改封面logo
\newcommand{\cover}{
    %%封面校名logo，图片都在figures文件夹里
    \begin{figure}[t!]
        \centering
        \includegraphics[width=1\linewidth]{figures/gzu.png}
    \end{figure}
    \maketitle
}

